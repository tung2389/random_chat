(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(291)},124:function(e,t,a){},24:function(e,t,a){},288:function(e,t){},291:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(21),r=a.n(c),o=(a(124),a(16)),s=a(17),l=a(20),u=a(18),h=a(19),m=a(5),p=(a(24),a(46)),d=a.n(p),b=a(47),g=a.n(b),f=a(113),v=a.n(f),_=a(23),O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",null,i.a.createElement(v.a,{position:"static",classes:{root:e.positionStatic}}," This app helps you to talk with a random person"),i.a.createElement("div",{className:"center"},i.a.createElement("h6",null,"Let connect with everyone"),i.a.createElement(d.a,{onChange:this.props.change_name,label:"Enter your name",className:"input"}),i.a.createElement("div",{className:"btn_holder"},i.a.createElement(g.a,{color:"primary",variant:"contained",onClick:this.props.connect},"Find friends"))),i.a.createElement("h6",null,"Tips: if you don't find anyone or you are too lonely, you can open two or more chrome tabs to chat with yourself"))}}]),t}(n.Component),j=Object(_.withStyles)({positionStatic:{height:"60px","text-align":"center",background:"deepskyblue"}})(O),y=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{align:"center"},"Please wait, we are searching for your partner")}}]),t}(n.Component),k=a(22),w=a.n(k),x=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:"Partner_message"},i.a.createElement(w.a,{elevation:4,classes:{root:e.partner_message}},this.props.content))}}]),t}(n.Component),E=Object(_.withStyles)({partner_message:{"max-width":"400px",background:"aliceblue","overflow-wrap":"break-word",display:"inline-block","border-radius":"8px","padding-top":"10px","padding-bottom":"10px","padding-right":"20px","padding-left":"20px",color:"cadetblue"}})(x),S=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:"Your_message",align:"right"},i.a.createElement(w.a,{elevation:4,classes:{root:e.partner_message}},this.props.content))}}]),t}(n.Component),C=Object(_.withStyles)({partner_message:{"max-width":"400px",background:"cornflowerblue","overflow-wrap":"break-word",display:"inline-block","border-radius":"8px",color:"white","padding-top":"10px","padding-bottom":"10px","padding-right":"20px","padding-left":"20px"}})(S),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={length:1},a.count_char=a.count_char.bind(Object(m.a)(Object(m.a)(a))),a.resize=a.resize.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=r.a.findDOMNode(this.refs.inp);t.addEventListener("keydown",function(a){return e.resize(a,t)})}},{key:"count_char",value:function(e,t){0===e.target.value.length?this.setState({length:e.target.value.length+1}):this.setState({length:e.target.value.length}),t(e.target.value)}},{key:"caculate_resize",value:function(e,t){e<=4?(t.style.height=50+16*(e-1)+"px",t.style.top=45-16*(e-1)+"px"):(t.style.height="94px",console.log(50,16,4),t.style.top="-15px",t.style.overflow="auto")}},{key:"resize",value:function(e,t){if(13===e.keyCode)e.preventDefault();else{var a=Math.ceil(this.state.length/39);this.caculate_resize(a,t)}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"input2_holder",ref:"inp"},i.a.createElement(d.a,{onChange:function(t){return e.count_char(t,e.props.change_message)},className:"input2",multiline:!0}))}}]),t}(n.Component),z=a(115),M=a.n(z),P=a(116),D=a.n(P),Y=function(e){function t(e){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handle_message",value:function(e,t,a){e.emit("send message",t),a()}},{key:"render",value:function(){var e=this,t=this.props,a=t.socket,n=t.message,c=t.update_all_message;return i.a.createElement("div",{className:"btn_send_holder"},i.a.createElement(M.a,{onClick:function(){return e.handle_message(a,n,c)},color:"primary","aria-label":"Add"},i.a.createElement(D.a,null)))}}]),t}(n.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:"exiting_notification"},i.a.createElement(w.a,{elevation:4,classes:{root:e.notification}},'Your partner has disconnected. If you want to leave, please click the "Leave the chat" button'))}}]),t}(n.Component),W=Object(_.withStyles)({notification:{width:"550px",background:"#d32f2f","overflow-wrap":"break-word",display:"inline-block","border-radius":"4px",color:"white",padding:"6px 24px"}})(L),I=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Your_name,a=e.Partner_name,n=e.classes;return i.a.createElement("div",{className:"Info"},i.a.createElement(w.a,{elevation:4,classes:{root:n.your_name}},t),i.a.createElement("h3",null,"And"),i.a.createElement(w.a,{elevation:4,classes:{root:n.partner_name}},a))}}]),t}(n.Component),A=Object(_.withStyles)({your_name:{background:"#1976d2","overflow-wrap":"break-word",display:"inline-block","border-radius":"4px",color:"white",padding:"6px 24px"},partner_name:{background:"#ffa000","overflow-wrap":"break-word",display:"inline-block","border-radius":"4px",color:"white",padding:"6px 24px"}})(I),B=a(117),J=a.n(B),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={message:"",all_message:[],partner_exit:!1},a.change_message=a.change_message.bind(Object(m.a)(Object(m.a)(a))),a.update_all_message=a.update_all_message.bind(Object(m.a)(Object(m.a)(a))),a.notification=a.notification.bind(Object(m.a)(Object(m.a)(a))),a.handle_exiting=a.handle_exiting.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.socket;t.on("message",function(t){return e.update_all_message(E,t)}),t.on("Partner disconnected",this.handle_exiting)}},{key:"handle_exiting",value:function(){this.setState({partner_exit:!0})}},{key:"update_all_message",value:function(e,t){var a=this.state.all_message.slice();a.push(i.a.createElement(e,{key:J()(),content:t})),this.setState({all_message:a})}},{key:"change_message",value:function(e){this.setState({message:e})}},{key:"notification",value:function(){if(this.state.partner_exit)return i.a.createElement(W,null)}},{key:"render",value:function(){var e=this,t=(this.props.classes,this.props.socket),a=this.props.exit,n=this.props,c=n.your_name,r=n.partner_name;return i.a.createElement("div",null,i.a.createElement(A,{Your_name:c,Partner_name:r}),i.a.createElement("div",{className:"chat_background"},this.notification(),i.a.createElement("div",{className:"all_messages"},this.state.all_message),i.a.createElement("div",{className:"bar_and_button"},i.a.createElement(N,{change_message:this.change_message}),i.a.createElement(Y,{socket:t,message:this.state.message,update_all_message:function(){return e.update_all_message(C,e.state.message)}})),i.a.createElement("div",{className:"exit_button_holder"},i.a.createElement(g.a,{color:"secondary",variant:"contained",onClick:a},"Leave the chat"))))}}]),t}(n.Component),F=a(118),$=a.n(F)()("https://socket-backend.herokuapp.com/"),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).change_name=a.change_name.bind(Object(m.a)(Object(m.a)(a))),a.connect=a.connect.bind(Object(m.a)(Object(m.a)(a))),a.state={username:"",main_component:i.a.createElement(j,{change_name:a.change_name,connect:a.connect})},a.handle_waiting=a.handle_waiting.bind(Object(m.a)(Object(m.a)(a))),a.handle_match=a.handle_match.bind(Object(m.a)(Object(m.a)(a))),a.check=a.check.bind(Object(m.a)(Object(m.a)(a))),a.exit=a.exit.bind(Object(m.a)(Object(m.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;$.on("please wait",this.handle_waiting),$.on("starting chat",function(t){return e.handle_match(t)})}},{key:"handle_waiting",value:function(){this.setState({main_component:i.a.createElement(y,null)})}},{key:"handle_match",value:function(e){this.setState({main_component:i.a.createElement(T,{your_name:this.state.username,partner_name:e.name,socket:$,exit:this.exit})})}},{key:"exit",value:function(){window.confirm("Do you really want to leave? You cannot see this conversation again")&&(this.setState({main_component:i.a.createElement(j,{change_name:this.change_name,connect:this.connect})}),$.emit("Partner disconnected"))}},{key:"change_name",value:function(e){this.setState({username:e.target.value})}},{key:"connect",value:function(){this.setState({main_component:i.a.createElement(y,null)}),$.emit("find partner",{name:this.state.username})}},{key:"check",value:function(){console.log(this.state.username)}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.main_component)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.d7eca4ce.chunk.js.map